<!-- <button
    mat-flat-button
    class="d-flex align-items-center justify-content-center py-2 rounded px-2 background-primary text-white text-uppercase fw-bold button-back"
    (click)="onBack()"
  >
    <mat-icon class="icon">west</mat-icon>
    <span i18n>go back</span>
  </button> -->
<div class="col-12 overflow-hidden">
  <div class="d-flex flex-column flex-md-row flex-lg-row gap-4">
    <div
      class="border border-primary rounded-4 p-3 p-md-4 p-lg-4 d-flex flex-column flex-md-row justify-content-between col-12 col-lg-8 overflow-hidden gap-4"
    >
      <div class="col-12 col-md-9 col-lg-9 d-flex flex-column justify-content-between overflow-hidden flex-grow-1 min-w-0">
        <div class="fw-bold w-100 fs-24 mb-4" i18n>Warehouse Location</div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">LOCATION NAME</div>
            <div>{{ location?.locationName || '-' }}</div>
          </div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold text-uppercase">SITE POINT OF CONTACT</div>
            <div>{{ location?.sitePointOfContact || '-' }}</div>
          </div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">POSITION IN COMPANY</div>
            <div>{{ location?.position || '-' }}</div>
          </div>
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">PHONE NUMBER</div>
            <div>{{ location?.phoneNumber || '-' }}</div>
          </div>
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 mb-3 mb-md-0">
            <div class="fw-bold">SITE-SPECIFIC INSTRUCTIONS</div>
            <div>{{ location?.specificIntroduction || '-' }}</div>
          </div>
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">STREET ADDRESS</div>
            <div>{{ location?.addressLine1 || '-' }}</div>
          </div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">ZIP / POSTAL CODE</div>
            <div>{{ location?.postcode || '-' }}</div>
          </div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">CITY</div>
            <div>{{ location?.city || '-' }}</div>
          </div>
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">COUNTY / STATE / REGION</div>
            <div>{{ location?.stateProvince || '-' }}</div>
          </div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">COUNTRY</div>
            <div>{{ location?.country || '-' }}</div>
          </div>
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">HEAD OFFICE OPENING TIME</div>
            <div>{{ location?.officeOpenTime || '-' }}</div>
          </div>
          <div class="col-12 col-md-4 mb-3 mb-md-0">
            <div class="fw-bold">HEAD OFFICE CLOSING TIME</div>
            <div>{{ location?.officeCloseTime || '-' }}</div>
          </div>
        </div>

        <div class="fw-bold w-100 fs-24 mb-4" i18n>Material Accepted</div>
        <div class="row mb-md-4 mb-0">
          @if (materials.length == 0) {
            <div class="d-flex justify-content-center align-items-center fs-24 mt-3">
              <p class="text-muted">No materials found.</p>
            </div>
          } @else {
            @for (type of materials; track $index) {
              <div class="d-flex flex-column flex-fill col-12 mb-4">
                <div class="text-uppercase fw-bold mb-2">{{ type.name }}</div>
                <div class="d-flex flex-wrap gap-2">
                  @for (material of type.materials; track $index) {
                    <div
                      class="col-12 col-sm-3 mb-2 pe-4"
                      [class.col-sm-4]="material.name.length >= 15 && material.name.length < 20"
                      [class.col-sm-5]="material.name.length >= 20 && material.name.length < 30"
                      [class.col-sm-7]="material.name.length >= 30 && material.name.length < 40"
                      [class.col-sm-12]="material.name.length >= 40"
                    >
                      <div class="d-flex">
                        <mat-checkbox color="primary" [checked]="favoriteMaterials?.includes(material.code)" style="pointer-events: none">
                          <span class="text-wrap fw-bold">{{ material.name }}</span>
                        </mat-checkbox>
                      </div>
                    </div>
                  }
                </div>
              </div>
            }
          }
        </div>

        <div class="fw-bold w-100 fs-24 mb-4" i18n>On-site Facilities</div>
        <div class="row mb-md-4 mb-0">
          <div class="col-12 col-md-6 mb-3 mb-md-0">
            <div class="fw-bold">IS THERE A LOADING RAMP ON THIS SITE?</div>
            <div>{{ location?.loadingRamp || '-' }}</div>
          </div>
          <div class="col-12 col-md-6 mb-3 mb-md-0">
            <div class="fw-bold">HAVE YOU GOT A WEIGHBRIDGE ON THIS SITE?</div>
            <div>{{ location?.weightBridge || '-' }}</div>
          </div>
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 mb-3 mb-md-0">
            <div class="fw-bold">CAN YOU LOAD/UNLOAD MATERIAL YOURSELF ON THIS SITE?</div>
            <div>{{ location?.loadUnloadMaterial || '-' }}</div>
          </div>
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 mb-3 mb-md-0">
            <div class="fw-bold">WHICH CONTAINER TYPES CAN YOU MANAGE ON THIS SITE?</div>
            <div>{{ location?.containerType || '-' }}</div>
          </div>
        </div>

        <!-- LICENCE  -->
        <div class="fw-bold w-100 fs-24 mb-4" i18n>Licences / Permits</div>
        <div class="row mb-md-4 mb-0">
          <div class="col-12 mb-3 mb-md-0">
            <div class="fw-bold">WHICH PERMIT/LICENCE DO YOU HAVE?</div>
            <!-- <div>{{ location?.locationName || '-' }}</div> -->
            <div>Waste Exemptions</div>
            <div class="w-100 mt-4">
              <span class="fw-bold" i18n> WASTE EXEMPTION UPLOAD </span>
              <!-- @for (item of wasteExemptionDocuments; track $index) { -->
              <div class="d-flex flex-column flex-md-row gap-3 align-items-stretch align-items-md-center">
                <div class="col-12 col-md-4 rounded border d-flex">
                  <div class="col-2 background-on-primary d-flex justify-content-center align-items-center p-2 left-side">
                    <mat-icon class="me-1">file_copy</mat-icon>
                  </div>
                  <div class="d-flex align-items-center p-2 right-side col-10 text-break">
                    <!-- {{ extractFileName(item.documentUrl)  }} -->
                  </div>
                </div>
                <div class="col-12 col-md-2 d-grid">
                  <button mat-flat-button>VIEW</button>
                </div>
              </div>
              <!-- } -->
            </div>
          </div>
          <!-- uploaded document -->
        </div>

        <div class="row mb-md-4 mb-0">
          <div class="col-12 mb-3 mb-md-0">
            <div class="fw-bold">DO YOU HAVE ANY ACCESS RESTRICTIONS?</div>
            <div>{{ location?.restrictionAccess || '-' }}</div>
          </div>
        </div>
      </div>
    </div>

    <!-- Edit Button -->
    <div class="d-flex justify-content-center justify-content-lg-start align-items-start">
      <button mat-stroked-button class="col-12 col-md-auto" (click)="openEditLocation()" i18n>
        <mat-icon>edit</mat-icon>
        <span>Edit</span>
      </button>
    </div>
  </div>

  <!-- Add New Location Button -->
  <div class="d-flex justify-content-center justify-content-md-start mt-4">
    <div class="col-12 col-sm-8 col-md-4 col-lg-4">
      <button mat-flat-button class="w-100 fw-bold text-white" (click)="addNewLocation()">ADD NEW LOCATION</button>
    </div>
  </div>
</div>
