<app-common-layout title="Wanted Material" class="d-flex flex-column min-vh-100">
  <app-filter
    [displayFilter]="['country', 'materialType', 'materialItem', 'materialPacking', 'wasteStoration', 'showFullfilledListing', 'sortBy']"
    (filterChanged)="onFilterChange($event)"
    (searchTerm)="searchTerm.set($event)"
  ></app-filter>

  <div class="flex-grow-1 position-relative overflow-auto">
    @if (loading()) {
      <app-spinner></app-spinner>
    } @else {
      @if (items().length > 0) {
        <div class="flex-grow-1">
          <app-product-grid [items]="items()" [totalItems]="totalItem()" (selectItem)="onSelect($event)"></app-product-grid>
        </div>
        <app-pagination [pageNumber]="page()" [totalCount]="totalItem()" (pageChange)="onPageChange($event)"></app-pagination>
      } @else {
        <div class="d-flex justify-content-center align-items-center fs-24 mt-3 flex-grow-1">
          <p class="text-muted">No wanted materials are currently available for display.</p>
        </div>
      }
    }
    <hr />
  </div>

  <app-listing-footer class="mt-auto"></app-listing-footer>
</app-common-layout>
