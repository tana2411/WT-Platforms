<div class="d-flex flex-column">
  <mat-label class="fw-bold fs-16">{{ label }}{{ isRequired ? '*' : '' }}</mat-label>
  <div class="d-flex flex-column phone-input">
    <div class="d-flex rounded">
      <div class="col-md-2 col-5">
        <mat-form-field appearance="fill" class="w-100 no-outline left-side">
          <mat-select [formControl]="countryCodeControl">
            <mat-select-trigger>
              @if (countryCodeControl.value; as selected) {
                <div class="d-flex align-items-center">
                  <i class="fi {{ selected.flagClass }}"></i>
                  <span class="ms-1">{{ selected.code }}</span>
                </div>
              }
            </mat-select-trigger>
            @for (item of countryList; track $index) {
              <mat-option [value]="item">
                <i class="fi {{ item.flagClass }}"></i>
                {{ item.code }}
              </mat-option>
            }
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-md-10 col-7">
        <mat-form-field appearance="fill" class="w-100 no-outline bg-white right-side">
          <input matInput placeholder="ex. 741234480" type="text" [formControl]="telephoneControl" />
        </mat-form-field>
      </div>
    </div>
    <div>
      @if (telephoneControl.hasError('required') && telephoneControl.touched) {
        <mat-error>This field is required</mat-error>
      }
      @if (telephoneControl.hasError('maxlength') || telephoneControl.hasError('pattern')) {
        <mat-error>Invalid telephone number. Please enter a valid number</mat-error>
      }
    </div>
  </div>
</div>
