<ng-template #removeSection>
  <button
    mat-flat-button
    class="text-uppercase w-100 py-4 mb-4 background-error text-white fw-bold fs-16"
    (click)="onDeleteListing()"
    [class.overlay-spinner]="deleting()"
  >
    Remove listing
  </button>
</ng-template>

@if (isOwnListing()) {
  @if (isSeller) {
    <!-- <button
      mat-stroked-button
      class="text-uppercase w-100 py-4 mb-4 border-primary primary fw-bold fs-16"
      (click)="onEditListing()"
      disabled
    >
      Edit listing
    </button>

    <button mat-flat-button class="text-uppercase w-100 py-4 mb-4 background-primary text-white fw-bold fs-16" disabled>
      View Bid on this listing
    </button> -->

    @if (canSold()) {
      <button
        mat-flat-button
        class="text-uppercase w-100 py-4 mb-4 background-dark text-white fw-bold fs-16"
        [class.overlay-spinner]="solding()"
        (click)="onSold()"
      >
        Sold
      </button>
    }

    <ng-container [ngTemplateOutlet]="removeSection"> </ng-container>
  } @else {
    <div class="d-flex flex-column align-items-center">
      @if (canFulfill()) {
        <button
          mat-flat-button
          class="text-uppercase w-100 py-4 mb-4 background-dark text-white fw-bold fs-16"
          [class.overlay-spinner]="fulfilling()"
          (click)="onFulfill()"
        >
          Fulfil
        </button>
      }

      <ng-container [ngTemplateOutlet]="removeSection"> </ng-container>
    </div>
  }
} @else if (isSeller) {
  <div class="d-flex flex-column align-items-center border border-light background-on-primary rounded rounded-4 gap-3 p-4">
    <button mat-flat-button class="text-uppercase w-100 action-button" (click)="onBid()">bid now</button>
    <p class="text-uppercase text-decoration-underline fw-bold underlink cursor-pointer" (click)="onRequestInformation()">
      Request information
    </p>
  </div>
} @else {
  <div class="d-flex flex-column align-items-center border border-primary background-on-primary rounded rounded-4 gap-3 p-4 mb-4">
    <button mat-flat-button class="text-uppercase action-button" [routerLink]="['/sell']">Sell material</button>
    <!-- <p class="text-uppercase text-decoration-underline fw-bold underlink">message buyer</p> -->
  </div>
}
